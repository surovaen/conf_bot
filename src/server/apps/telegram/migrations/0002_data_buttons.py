# Generated by Django 4.0.10 on 2024-02-14 11:41

from django.db import migrations, models


class CallbackTypes(models.TextChoices):
    """–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –∫–æ–ª–±–µ–∫–æ–≤ –¥–ª—è –º–æ–¥–µ–ª–∏ MenuButton."""

    CONFERENCE = 'conference', '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è'
    COURSE = 'course', '–ö—É—Ä—Å –ø—Ä–æ –¥–µ–Ω—å–≥–∏'
    BREAKFAST = 'breakfast', '–ö–æ—É—á-–∑–∞–≤—Ç—Ä–∞–∫'
    GAME = 'game', '–ò–≥—Ä–∞'
    PERSONAL_WORK = 'personal_work', '–•–æ—á—É –≤ –ª–∏—á–Ω—É—é —Ä–∞–±–æ—Ç—É'
    PODCAST = 'podcast', '–ü–æ–¥–∫–∞—Å—Ç—ã'
    GIFT = 'gift', '–ó–∞–±—Ä–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫'


BUTTON_MAP = {
    CallbackTypes.CONFERENCE: '–ö–û–ù–§–ê –ü–†–û –î–ï–ù–¨–ì–ò',
    CallbackTypes.COURSE: '–Ø –ò –ï–°–¢–¨ –°–í–û–ô –ü–†–û–ï–ö–¢ | –≠–ö–û–õ–û–ì–ò–ß–ù–´–ï –î–ï–ù–¨–ì–ò',
    CallbackTypes.BREAKFAST: '–ö–û–£–ß-–ó–ê–í–¢–†–ê–ö–ò',
    CallbackTypes.GAME: '–ò–ì–†–ê –ê–¢–õ–ê–ù–¢–û–í',
    CallbackTypes.PERSONAL_WORK: '–•–æ—á—É –≤ –ª–∏—á–Ω—É—é —Ä–∞–±–æ—Ç—É',
    CallbackTypes.PODCAST: '–ü–æ–¥–∫–∞—Å—Ç –î–£–ú–ê–ô | –î–ï–õ–ê–ô | –ë–û–ì–ê–¢–ï–ô',
    CallbackTypes.GIFT: '–ó–∞–±—Ä–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫üéÅ',
}


def load_button_data(apps, schema_editor):
    """–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ MenuButton –¥–∞–Ω–Ω—ã–º–∏."""
    MenuButton = apps.get_model('telegram', 'MenuButton')

    for callback, name in BUTTON_MAP.items():
        button = MenuButton(
            title=name,
            callback=callback,
        )
        button.save()


def reverse_load_button_data(apps, schema_editor):
    """–û—Ç–∫–∞—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏ MenuButton."""
    MenuButton = apps.get_model('telegram', 'MenuButton')
    MenuButton.objects.all().delete()


class Migration(migrations.Migration):

    dependencies = [
        ('telegram', '0001_initial'),
    ]

    operations = [
        migrations.RunPython(load_button_data, reverse_load_button_data),
    ]


